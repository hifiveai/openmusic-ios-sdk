# 《播放器UI和音乐列表UI》接口文档
[TOC]
## 初始化SDK

调用如下API进行SDK初始化操作，clientId为用户唯一标识（公司自有的用户ID），请在获取到用户ID之后调用

```objc 

    [[HFOpenApiManager shared] registerAppWithAppId:@"appId" serverCode:@"serverCode" clientId:@"clientId" version:@"version" success:^(id  _Nullable response) {
        //注册成功
    } fail:^(NSError * _Nullable error) {
        //注册失败
    }];

```
| 参数 | 必填 | 描述 |
|---|---|---|
| appId | 是 | 开放平台申请appId |
| serverCode | 是 | 开放平台申请serverCode |
| clientId | 是 | 用户唯一标识（公司自有的用户ID） |
| version | 是 | 操作的 API 的版本，如：V4.1.1 |
| success | 否 | 成功 |
| fail | 否 | 失败 |

## 用户登录
调用如下API，HIFIVE平台将会为该用户进行授权，以便使用后续API
后续部分API需要用户登录

```objc 
[[HFOpenApiManager shared] baseLoginWithNickname:@"nickname" gender:@"gender" birthday:@"birthday" location:@"location" education:@"education" profession:@"profession" isOrganization:true reserve:@"reserve" favoriteSinger:@"favoriteSinger" favoriteGenre:@"favoriteGenre" success:^(id  _Nullable response) {
    //登录成功
} fail:^(NSError * _Nullable error) {
    //登录失败
}];

```
- 请求参数
  
| 参数 | 必填 | 描述 |
|---|---|---|
| nickname | 否 | 昵称 |
| gender | 否 | 性别，默认0, 0:未知,1:男,2:女 |
| birthday | 否 | 出生日期，10位秒级时间戳 |
| location | 否 | 经纬度信息，纬度在前 |
| education | 否 | 所受教育水平 |
| profession | 否 | 职业 |
| isOrganization | 否 | 是否属于组织机构类型用户（to B），默认false |
| reserve | 否 | json字符串，保留字段用于扩展用户其他信息 |
| favoriteSinger | 否 | 喜欢的歌手名，多个用英文逗号隔开 |
| favoriteGenre | 否 | 喜欢的音乐流派Id，多个用英文逗号拼接 |
| success | 否 | 成功 |
| fail | 否 | 失败 |

## 初始化及显示UI视图
<font color='#FF0000'>只初始化不显示UI。</font>

```objc
-(instancetype)initWithListenType:(NSUInteger)type config:(HFOpenMusicPlayerConfiguration *_Nonnull)config;
```
| 参数 | 必填 | 描述 | 可选值 |
|---|---|---|---|
| type | 是 | 音乐授权类型 | 详见[音乐授权类型] |
| config | 是 | 配置 | 详见[配置] |

**音乐授权类型**

| 名称                  | 值      |      |
| --------------------- | ------- | ---- |
| BGM音乐播放           | TYPE_TRAFFIC |      |
| 音视频作品BGM音乐播放 | TYPE_UGC     |      |
| K歌音乐播放           | KTYPE_K      |      |

### 初始化配置
<font color='#FF0000'>和上面的《初始化及显示UI视图》整合，多行代码多个说明。</font>

- 创建默认配置
```objc
HFOpenMusicPlayerConfiguration *config = [HFOpenMusicPlayerConfiguration defaultConfiguration];
```
| 配置项 | 描述 | 默认值 |
|---|---|---|
| autoNext | 自动播放下一首 | 默认开启 |
| panTopLimit | 播放器视图可拖拽范围，距离顶部距离 | 0 |
| panBottomLimit | 播放器视图可拖拽范围，距离底部距离 | 0 |
| cacheEnable | 是否允许客户端缓存 | 默认关闭 |
| bufferCacheSize | 缓冲区大小 | 默认270kb（最小配置270kb） |
| advanceBufferCacheSize | 预缓冲区大小 | 默认为缓冲区大小的1/2 |
| repeatPlay | 是否允许重复播放 | 默认关闭 |
| networkAbilityEable | 是否开启网络监测,断线重连播放 | 默认开启 |
| rate | 播放速率 | 默认1.0 |
| autoLoad | 播放器自动缓冲数据 | 默认开启 |

## 显示播放器UI
<font color='#FF0000'>新加接口（这里的播放器UI是指包括播放器UI、音乐列表UI统称）。</font>



## 隐藏播放器UI

```objc
-(void)removeMusicPlayerView;
```
